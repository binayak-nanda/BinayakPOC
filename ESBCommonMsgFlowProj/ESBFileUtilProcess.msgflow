<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI" xmlns:ComIbmCompute.msgnode="ComIbmCompute.msgnode" xmlns:ComIbmJavaCompute.msgnode="ComIbmJavaCompute.msgnode" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:eflow="http://www.ibm.com/wbi/2005/eflow" xmlns:utility="http://www.ibm.com/wbi/2005/eflow_utility" nsURI="ESBFileUtilProcess.msgflow"
    nsPrefix="ESBFileUtilProcess.msgflow">
  <eClassifiers xmi:type="eflow:FCMComposite" name="FCMComposite_1">
    <eSuperTypes href="http://www.ibm.com/wbi/2005/eflow#//FCMBlock"/>
    <eStructuralFeatures xmi:type="ecore:EAttribute" xmi:id="Property.computeExpression" name="computeExpression" defaultValueLiteral="esql://routine/#ESBFileUtilProcess_GenXml.Main">
      <eType xmi:type="ecore:EDataType" href="http://www.ibm.com/wbi/2005/eflow#//EsqlModule"/>
    </eStructuralFeatures>
    <translation xmi:type="utility:TranslatableString" key="ESBFileUtilProcess" bundleName="ESBFileUtilProcess" pluginId="ESBCommonMsgFlowProj"/>
    <colorGraphic16 xmi:type="utility:GIFFileGraphic" resourceName="platform:/plugin/ESBCommonMsgFlowProj/icons/full/obj16/ESBFileUtilProcess.gif"/>
    <colorGraphic32 xmi:type="utility:GIFFileGraphic" resourceName="platform:/plugin/ESBCommonMsgFlowProj/icons/full/obj30/ESBFileUtilProcess.gif"/>
    <shortDescription xmi:type="utility:ConstantString" string="FileUtilProcesss to read file content, write file content or delete file in a specified file location"/>
    <longDescription xmi:type="utility:ConstantString" string="This Process will read in a FileUtil.xml (XMLNSC) as input and perform the function based on the Operation element. It can read the content of a file in a specified location, write the content into a file with specified location or delete the file in specified location. It will return the content of the file (for read operation) or successful message in the file content (for write and delete). If there is any error, it will return an error code and error message.&#xD;&#xA;Below is a sample input:&#xD;&#xA;&#xD;&#xA;&lt;FileUtil xsi:noNamespaceSchemaLocation=&quot;FileUtil.xsd&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;>&#xD;&#xA;&#x9;&lt;Operation>Read&lt;/Operation>&#xD;&#xA;&#x9;&lt;TrackingId>text&lt;/TrackingId>&#xD;&#xA;&#x9;&lt;Directory>C:\Project\iClose\TestData&lt;/Directory>&#xD;&#xA;&#x9;&lt;FileName>Data1.txt&lt;/FileName>&#xD;&#xA;&#x9;&lt;FileContent>&lt;/FileContent>&#xD;&#xA;&lt;/FileUtil>&#xD;&#xA;&#xD;&#xA;Below is a sample output:&#xD;&#xA;&lt;FileUtil>&#xD;&#xA; &lt;FileContent>This is Test Data TWO -22-&lt;/FileContent>&#xD;&#xA;&lt;/FileUtil>&#xD;&#xA;&#xD;&#xA;Below is a sample error output:&#xD;&#xA;&lt;FileUtil>&#xD;&#xA; &lt;Error>&#xD;&#xA;  &lt;ErrorCode>105&lt;/ErrorCode>&#xD;&#xA;  &lt;ErrorMessage>Unknown operation: Raed&lt;/ErrorMessage>&#xD;&#xA; &lt;/Error>&#xD;&#xA;&lt;/FileUtil>&#xD;&#xA;&#xD;&#xA;Important: User need to setup their own ESQL ESBFileUtilProcess_GenXml for proper input. You can refer to ESBFileUtilProcess_GenXml.esql as reference.&#xD;&#xA;"/>
    <version xmi:type="utility:ConstantString" string="1.0"/>
    <composition>
      <nodes xmi:type="eflow:FCMSource" xmi:id="InTerminal.Input" location="62,232">
        <translation xmi:type="utility:TranslatableString" key="InTerminal.Input" bundleName="ESBFileUtilProcess" pluginId="ESBCommonMsgFlowProj"/>
      </nodes>
      <nodes xmi:type="eflow:FCMSink" xmi:id="OutTerminal.Output" location="525,232">
        <translation xmi:type="utility:TranslatableString" key="OutTerminal.Output" bundleName="ESBFileUtilProcess" pluginId="ESBCommonMsgFlowProj"/>
      </nodes>
      <nodes xmi:type="ComIbmCompute.msgnode:FCMComposite_1" xmi:id="FCMComposite_1_2" location="160,235" computeExpression="esql://routine/#ESBFileUtilProcess_GenXml.Main">
        <translation xmi:type="utility:ConstantString" string="GenXml"/>
        <longDescription xmi:type="utility:ConstantString" string="rtekgjkh"/>
      </nodes>
      <nodes xmi:type="ComIbmJavaCompute.msgnode:FCMComposite_1" xmi:id="FCMComposite_1_3" location="261,232" javaClass="com.qbe.broker.util.ESBFileUtilProcess_JavaCompute">
        <translation xmi:type="utility:ConstantString" string="ReadFile"/>
      </nodes>
      <nodes xmi:type="ComIbmCompute.msgnode:FCMComposite_1" xmi:id="FCMComposite_1_4" location="402,233" computeExpression="esql://routine/#ESBFileUtilProcess_ExtCont.Main">
        <translation xmi:type="utility:ConstantString" string="ExtCont"/>
      </nodes>
      <connections xmi:type="eflow:FCMConnection" xmi:id="FCMConnection_1" targetNode="FCMComposite_1_2" sourceNode="InTerminal.Input" sourceTerminalName="OutTerminal.out" targetTerminalName="InTerminal.in"/>
      <connections xmi:type="eflow:FCMConnection" xmi:id="FCMConnection_2" targetNode="FCMComposite_1_3" sourceNode="FCMComposite_1_2" sourceTerminalName="OutTerminal.out" targetTerminalName="InTerminal.in"/>
      <connections xmi:type="eflow:FCMConnection" xmi:id="FCMConnection_3" targetNode="FCMComposite_1_4" sourceNode="FCMComposite_1_3" sourceTerminalName="OutTerminal.out" targetTerminalName="InTerminal.in"/>
      <connections xmi:type="eflow:FCMConnection" xmi:id="FCMConnection_4" targetNode="OutTerminal.Output" sourceNode="FCMComposite_1_4" sourceTerminalName="OutTerminal.out" targetTerminalName="InTerminal.in"/>
    </composition>
    <propertyOrganizer>
      <propertyDescriptor groupName="Group.Basic" propertyEditor="com.ibm.etools.mft.ibmnodes.editors.EsqlModulePropertyEditor" compiler="com.ibm.etools.mft.ibmnodes.compilers.EsqlModulePropertyCompiler" describedAttribute="Property.computeExpression">
        <propertyName xmi:type="utility:TranslatableString" key="Property.computeExpression" bundleName="ComIbmCompute" pluginId="com.ibm.etools.mft.ibmnodes"/>
      </propertyDescriptor>
    </propertyOrganizer>
    <attributeLinks promotedAttribute="Property.computeExpression" overriddenNodes="FCMComposite_1_2">
      <overriddenAttribute href="ComIbmCompute.msgnode#Property.computeExpression"/>
    </attributeLinks>
  </eClassifiers>
</ecore:EPackage>
